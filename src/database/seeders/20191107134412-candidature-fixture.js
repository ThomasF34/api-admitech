'use strict';
const bcrypt = require('bcryptjs');

module.exports = {
  up: async (queryInterface, Sequelize) => {
    await queryInterface.bulkInsert('users', [{
      first_name: 'Alice',
      last_name: 'Burette',
      email: 'email@eleve.fr',
      password: bcrypt.hashSync('abcd', 10),
      role: 'eleve',
      created_at: new Date(),
      updated_at: new Date()
    },
    {
      first_name: 'Albert',
      last_name: 'Dupond',
      email: 'email@eleve2.fr',
      password: bcrypt.hashSync('abcd', 10),
      role: 'eleve',
      created_at: new Date(),
      updated_at: new Date()
    },
    {
      first_name: 'Marie',
      last_name: 'Doe',
      email: 'email@eleve3.fr',
      password: bcrypt.hashSync('abcd', 10),
      role: 'eleve',
      created_at: new Date(),
      updated_at: new Date()
    }, {
      first_name: 'Leila',
      last_name: 'Dupond',
      email: 'email@eleve4.fr',
      password: bcrypt.hashSync('abcd', 10),
      role: 'eleve',
      created_at: new Date(),
      updated_at: new Date()
    }, {
      first_name: 'Bob',
      last_name: 'Dupond',
      email: 'email@administration.fr',
      password: bcrypt.hashSync('abcd', 10),
      role: 'administration',
      created_at: new Date(),
      updated_at: new Date()
    }, {
      first_name: 'Elisa',
      last_name: 'Dupond',
      email: 'email@entreprise.fr',
      password: bcrypt.hashSync('abcd', 10),
      role: 'entreprise',
      created_at: new Date(),
      updated_at: new Date()
    },
    ]);

    await queryInterface.bulkInsert('candidatures', [{
      user_id: 1,
      draft: false,
      first_name: 'Alice',
      last_name: 'Burette',
      nationnality: 'Français',
      birth_date: new Date(),
      birth_place: 'Montpellier',
      family_status: 'single',
      address: 'Avenue Du Val de Montferrand',
      postal_code: '34000',
      city: 'Montpellier',
      state: 'France',
      bac_name: 'Bac Scientifique',
      bac_year: 2014,
      bac_mention: 'bien',
      bac_realname: 'Scientifique option SI',
      last_facility_name: '',
      last_facility_address: 'Place Eugène Bataillon',
      last_facility_postal_code: '34000',
      last_facility_city: 'Montpellier',
      last_facility_state: 'France',
      native_lang_name: 'français',
      first_lang_name: 'anglais',
      second_lang_name: 'italien',
      third_lang_name: null,
      first_lang_level: 'great',
      second_lang_level: 'great',
      third_lang_level: null,
      internships: 'Description de mes stages',
      travels: 'Pas besoin de voyager quand on connait la Réunion',
      it_knowledge: 'L\'algorithmie reste ce que je préfère',
      sports_interests: 'Je fais de l\'escalade en compétition',
      strengths: 'Je suis perfectioniste',
      other_apply: false,
      other_apply_name: null,
      other_apply_place: null,
      other_apply_apprentise: null,
      candidate_comment: '',
      admin_comment: '',
      status: 2,
      branch: 'se',
      certified: true,
      certified_at: new Date(),
      created_at: new Date(),
      updated_at: new Date()
    }, {
      user_id: 1,
      draft: false,
      first_name: 'Alice',
      last_name: 'Burette',
      nationnality: 'Français',
      birth_date: new Date(),
      birth_place: 'Montpellier',
      family_status: 'single',
      address: 'Avenue Du Val de Montferrand',
      postal_code: '34000',
      city: 'Montpellier',
      state: 'France',
      bac_name: 'Bac Scientifique',
      bac_year: 2014,
      bac_mention: 'bien',
      bac_realname: 'Scientifique option SI',
      last_facility_name: '',
      last_facility_address: 'Place Eugène Bataillon',
      last_facility_postal_code: '34000',
      last_facility_city: 'Montpellier',
      last_facility_state: 'France',
      native_lang_name: 'français',
      first_lang_name: 'anglais',
      second_lang_name: 'italien',
      third_lang_name: null,
      first_lang_level: 'great',
      second_lang_level: 'great',
      third_lang_level: null,
      internships: 'Description de mes stages',
      travels: 'Pas besoin de voyager quand on connait la Réunion',
      it_knowledge: 'L\'algorithmie reste ce que je préfère',
      sports_interests: 'Je fais de l\'escalade en compétition',
      strengths: 'Je suis perfectioniste',
      other_apply: false,
      other_apply_name: null,
      other_apply_place: null,
      other_apply_apprentise: null,
      candidate_comment: '',
      admin_comment: '',
      status: 6,
      branch: 'do',
      certified: true,
      certified_at: new Date(),
      created_at: new Date(),
      updated_at: new Date()
    },
    {
      user_id: 2,
      draft: false,
      first_name: 'Albert',
      last_name: 'Dupond',
      nationnality: 'Français',
      birth_date: new Date(),
      birth_place: 'Montpellier',
      family_status: 'single',
      address: 'Avenue Du Val de Montferrand',
      postal_code: '34000',
      city: 'Montpellier',
      state: 'France',
      bac_name: 'Bac Scientifique',
      bac_year: 2014,
      bac_mention: 'bien',
      bac_realname: 'Scientifique option SI',
      last_facility_name: '',
      last_facility_address: 'Place Eugène Bataillon',
      last_facility_postal_code: '34000',
      last_facility_city: 'Montpellier',
      last_facility_state: 'France',
      native_lang_name: 'français',
      first_lang_name: 'anglais',
      second_lang_name: 'italien',
      third_lang_name: null,
      first_lang_level: 'great',
      second_lang_level: 'great',
      third_lang_level: null,
      internships: 'Description de mes stages',
      travels: 'Pas besoin de voyager quand on connait la Réunion',
      it_knowledge: 'L\'algorithmie reste ce que je préfère',
      sports_interests: 'Je fais de l\'escalade en compétition',
      strengths: 'Je suis perfectioniste',
      other_apply: false,
      other_apply_name: null,
      other_apply_place: null,
      other_apply_apprentise: null,
      candidate_comment: '',
      admin_comment: '',
      status: 5,
      branch: 'do',
      certified: true,
      certified_at: new Date(),
      created_at: new Date(),
      updated_at: new Date()
    }, {
      user_id: 2,
      draft: false,
      first_name: 'Albert',
      last_name: 'Dupond',
      nationnality: 'Français',
      birth_date: new Date(),
      birth_place: 'Montpellier',
      family_status: 'single',
      address: 'Avenue Du Val de Montferrand',
      postal_code: '34000',
      city: 'Montpellier',
      state: 'France',
      bac_name: 'Bac Scientifique',
      bac_year: 2014,
      bac_mention: 'bien',
      bac_realname: 'Scientifique option SI',
      last_facility_name: '',
      last_facility_address: 'Place Eugène Bataillon',
      last_facility_postal_code: '34000',
      last_facility_city: 'Montpellier',
      last_facility_state: 'France',
      native_lang_name: 'français',
      first_lang_name: 'anglais',
      second_lang_name: 'italien',
      third_lang_name: null,
      first_lang_level: 'great',
      second_lang_level: 'great',
      third_lang_level: null,
      internships: 'Description de mes stages',
      travels: 'Pas besoin de voyager quand on connait la Réunion',
      it_knowledge: 'L\'algorithmie reste ce que je préfère',
      sports_interests: 'Je fais de l\'escalade en compétition',
      strengths: 'Je suis perfectioniste',
      other_apply: false,
      other_apply_name: null,
      other_apply_place: null,
      other_apply_apprentise: null,
      candidate_comment: '',
      admin_comment: '',
      status: 11,
      branch: 'se',
      certified: true,
      certified_at: new Date(),
      created_at: new Date(),
      updated_at: new Date()
    }, {
      user_id: 3,
      draft: false,
      first_name: 'Marie',
      last_name: 'Doe',
      nationnality: 'Français',
      birth_date: new Date(),
      birth_place: 'Montpellier',
      family_status: 'single',
      address: 'Avenue Du Val de Montferrand',
      postal_code: '34000',
      city: 'Montpellier',
      state: 'France',
      bac_name: 'Bac Scientifique',
      bac_year: 2014,
      bac_mention: 'bien',
      bac_realname: 'Scientifique option SI',
      last_facility_name: '',
      last_facility_address: 'Place Eugène Bataillon',
      last_facility_postal_code: '34000',
      last_facility_city: 'Montpellier',
      last_facility_state: 'France',
      native_lang_name: 'français',
      first_lang_name: 'anglais',
      second_lang_name: 'italien',
      third_lang_name: null,
      first_lang_level: 'great',
      second_lang_level: 'great',
      third_lang_level: null,
      internships: 'Description de mes stages',
      travels: 'Pas besoin de voyager quand on connait la Réunion',
      it_knowledge: 'L\'algorithmie reste ce que je préfère',
      sports_interests: 'Je fais de l\'escalade en compétition',
      strengths: 'Je suis perfectioniste',
      other_apply: false,
      other_apply_name: null,
      other_apply_place: null,
      other_apply_apprentise: null,
      candidate_comment: '',
      admin_comment: '',
      status: 9,
      branch: 'do',
      certified: true,
      certified_at: new Date(),
      created_at: new Date(),
      updated_at: new Date()
    }, {
      user_id: 4,
      draft: false,
      first_name: 'Leila',
      last_name: 'Dupond',
      nationnality: 'Français',
      birth_date: new Date(),
      birth_place: 'Montpellier',
      family_status: 'single',
      address: 'Avenue Du Val de Montferrand',
      postal_code: '34000',
      city: 'Montpellier',
      state: 'France',
      bac_name: 'Bac Scientifique',
      bac_year: 2014,
      bac_mention: 'bien',
      bac_realname: 'Scientifique option SI',
      last_facility_name: '',
      last_facility_address: 'Place Eugène Bataillon',
      last_facility_postal_code: '34000',
      last_facility_city: 'Montpellier',
      last_facility_state: 'France',
      native_lang_name: 'français',
      first_lang_name: 'anglais',
      second_lang_name: 'italien',
      third_lang_name: null,
      first_lang_level: 'great',
      second_lang_level: 'great',
      third_lang_level: null,
      internships: 'Description de mes stages',
      travels: 'Pas besoin de voyager quand on connait la Réunion',
      it_knowledge: 'L\'algorithmie reste ce que je préfère',
      sports_interests: 'Je fais de l\'escalade en compétition',
      strengths: 'Je suis perfectioniste',
      other_apply: false,
      other_apply_name: null,
      other_apply_place: null,
      other_apply_apprentise: null,
      candidate_comment: '',
      admin_comment: '',
      status: 3,
      branch: 'do',
      certified: true,
      certified_at: new Date(),
      created_at: new Date(),
      updated_at: new Date()
    }, {
      user_id: 4,
      draft: false,
      first_name: 'Leila',
      last_name: 'Dupond',
      nationnality: 'Français',
      birth_date: new Date(),
      birth_place: 'Montpellier',
      family_status: 'single',
      address: 'Avenue Du Val de Montferrand',
      postal_code: '34000',
      city: 'Montpellier',
      state: 'France',
      bac_name: 'Bac Scientifique',
      bac_year: 2014,
      bac_mention: 'bien',
      bac_realname: 'Scientifique option SI',
      last_facility_name: '',
      last_facility_address: 'Place Eugène Bataillon',
      last_facility_postal_code: '34000',
      last_facility_city: 'Montpellier',
      last_facility_state: 'France',
      native_lang_name: 'français',
      first_lang_name: 'anglais',
      second_lang_name: 'italien',
      third_lang_name: null,
      first_lang_level: 'great',
      second_lang_level: 'great',
      third_lang_level: null,
      internships: 'Description de mes stages',
      travels: 'Pas besoin de voyager quand on connait la Réunion',
      it_knowledge: 'L\'algorithmie reste ce que je préfère',
      sports_interests: 'Je fais de l\'escalade en compétition',
      strengths: 'Je suis perfectioniste',
      other_apply: false,
      other_apply_name: null,
      other_apply_place: null,
      other_apply_apprentise: null,
      candidate_comment: '',
      admin_comment: '',
      status: 11,
      branch: 'se',
      certified: true,
      certified_at: new Date(),
      created_at: new Date(),
      updated_at: new Date()
    },
    ], {});

    const candidatures = await queryInterface.sequelize.query(
      'SELECT id from candidatures;'
    );

    const candidatureRow = candidatures[0];

    await queryInterface.bulkInsert('past_year_exps', [
      {
        year: '2019',
        name: 'une formation',
        facility_name: 'une ecole',
        facility_place: 'a montpellier',
        degree: false,
        mean: 10,
        rating: '4',
        ranking: '4/200',
        candidature_id: candidatureRow[0].id,
      }
    ], {});

    await queryInterface.bulkInsert('attachments', [
      {
        attach_type: 'cover_letter',
        key: '1234.pdf',
        candidature_id: candidatureRow[0].id,
        created_at: new Date(),
        updated_at: new Date()
      }
    ], {});
  },

  down: (queryInterface, Sequelize) => {
    return Promise.all([
      queryInterface.bulkDelete('candidatures', [{
        first_name: 'Alice',
      }, {
        first_name: 'Albert',
      }, {
        first_name: 'Marie',
      }, {
        first_name: 'Leila',
      }]),
      queryInterface.bulkDelete('past_year_exps', null),
      queryInterface.bulkDelete('attachments', null),
      queryInterface.bulkDelete('users', [{ first_name: 'Alice' }, { first_name: 'Albert' }, { first_name: 'Bob' }, { first_name: 'Elisa' }, { first_name: 'Marie' }, { first_name: 'Leila' }]
      ),
    ]);
  }
};
